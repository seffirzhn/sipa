var Ajaxpaging=function(){var a=function(a,r,n){var s=0,i=0,l=[],o=[];if(0==(r=r||0)){var c=$(".panel-grid .card-body .table-toolbar",$(a.target)),p="";1==a.simplesearch?p='<div class="dataTables_filter"><form class="searchform m-b-0" action="javascript:;"><label><input class="form-control form-control-sm2" placeholder="Cari" type="text" name="search_all"></label></form></div>':("function"==typeof $().datepicker&&($("input.date-picker",$(".panel-grid .searchform",$(a.target))).each(function(){var a=$(this).attr("data-format")||"yyyy-mm-dd",t=$(this).attr("data-mode")||"date",e=a.replace("yyyy","9999").replace("mm","99").replace("dd","99");$(this).datepicker({format:a,autoclose:"true",startView:t,minViewMode:t}).mask(e)}),$(".input-daterange",$(".panel-grid .searchform",$(a.target))).each(function(){var a=$(this).attr("data-format")||"yyyy-mm-dd",t=$(this).attr("data-mode")||"date",e=a.replace("yyyy","9999").replace("mm","99").replace("dd","99");$(this).datepicker({format:a,autoclose:"true",startView:t,minViewMode:t}),$(".input-range",$(this)).mask(e)})),$("input.datetime-picker",$(".panel-grid .searchform",$(a.target))).each(function(){var a=$(this).attr("data-format")||"YYYY-MM-DD HH:mm:ss",t=a.replace("YYYY","9999").replace("MM","99").replace("DD","99").replace("HH","99").replace("mm","99").replace("ss","99");$(this).datetimepicker({format:a}).mask(t)}),"function"==typeof $().selectpicker&&$("select.select-picker",$(".panel-grid .searchform",$(a.target))).selectpicker("render")),$(".panel-grid .card-body",$(a.target)).prepend('<div class="row"><div class="col-md-3 col-xs-3"><div class="dataTables_length"><label><select class="form-control form-control-sm2" name="rows"><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="500">500</option></select></label></div></div><div class="col-md-9 col-xs-9">'+c.html()+p+"</div></div>"),$(".panel-grid .card-body",$(a.target)).append('<div class="row"><div class="col-md-3"><div class="dataTables_info">Loading</div></div><div class="col-md-9"><div class="dataTables_paginate paging_bootstrap_extended"><div class="pagination-panel float-right"></div></div></div></div>'),c.remove()}else if(1==(n=n||0)){var d=$(".panel-grid .dataTables_paginate .pagination-panel-input",$(a.target));0!=d.val()&&(s=d.val()-1)}var u=$(".panel-grid .layout-table table",$(a.target)),g=0,f=0;function m(a){blockUI();var t=$(".panel-grid .searchform",$(a.target)),e=new FormData;t.length&&(e=new FormData(t[0]));var r=$(".panel-grid .layout-table table",$(a.target)),n=$(".panel-grid .dataTables_length select[name=rows]",$(a.target));e.append("length",parseInt(n.val())),e.append("start",s*parseInt(n.val())),countcolumn=0,$("thead tr th",r).each(function(a){$(this).hasClass("sorting_desc")?(e.append("order[0][column]",a),e.append("order[0][dir]","desc")):$(this).hasClass("sorting_asc")&&(e.append("order[0][column]",a),e.append("order[0][dir]","asc")),countcolumn++}),o=[],$.ajax({type:"POST",url:a.url.grid,data:e,async:!0,contentType:!1,processData:!1,xhr:function(){return customxhr($.ajaxSettings.xhr())},dataType:"json",success:function(t){$(".table-grid",r).html(""),0<t.data.recordsTotal?(t.data.grid.forEach(function(a,t,e){o.push(a.id);var n="<tr>";$("thead tr th",r).each(function(){n+='<td class="dt-'+$(this).attr("data-align")+" "+$(this).attr("data-class")+'">'+(a[$(this).attr("column")]||"")+"</td>"}),n+="</tr>",$(".table-grid",r).append(n)}),""==$(".panel-grid .dataTables_paginate .pagination-panel",$(a.target)).html()?($(".panel-grid .dataTables_paginate .pagination-panel",$(a.target)).html('<span class="text-pagination">Halaman</span><ul class="pagination"><li class="page-item"><a class="page-link first" href="javascript:;" aria-label="First Page"><span aria-hidden="true"><i class="ti-angle-double-left"></i></span><span class="sr-only">First Page</span></a></li><li class="page-item"><a class="page-link prev" href="javascript:;" aria-label="Previous"><span aria-hidden="true"><i class="ti-angle-left"></i></span><span class="sr-only">Previous</span></a></li><li class="page-item"><input type="text" class="page-link pagination-panel-input" value="'+t.data.page+'"/></li><li class="page-item"><a class="page-link next" href="javascript:;" aria-label="Next"><span aria-hidden="true"><i class="ti-angle-right"></i></span><span class="sr-only">Next</span></a></li><li class="page-item"><a class="page-link last" href="javascript:;" aria-label="Last Page"><span aria-hidden="true"><i class="ti-angle-double-right"></i></span><span class="sr-only">Last Page</span></a></li></ul><span class="text-pagination">dari <span class="pagination-panel-total">'+t.data.maxPage+"</span></span>"),$(".panel-grid .pagination-panel .prev,.panel-grid .pagination-panel .first",$(a.target)).parent("li").addClass("disabled")):($(".panel-grid .pagination-panel .pagination-panel-input",$(a.target)).val(t.data.page),$(".panel-grid .pagination-panel .pagination-panel-total",$(a.target)).html(t.data.maxPage)),i=t.data.maxPage,1==t.data.page?$(".panel-grid .pagination-panel .prev,.panel-grid .pagination-panel .first",$(a.target)).parent("li").addClass("disabled"):$(".panel-grid .pagination-panel .prev,.panel-grid .pagination-panel .first",$(a.target)).parent("li").removeClass("disabled"),t.data.page==t.data.maxPage?$(".panel-grid .pagination-panel .next,.panel-grid .pagination-panel .last",$(a.target)).parent("li").addClass("disabled"):$(".panel-grid .pagination-panel .next,.panel-grid .pagination-panel .last",$(a.target)).parent("li").removeClass("disabled"),$(".panel-grid .dataTables_info",$(a.target)).html(t.data.recordsTotal+" Data")):($("tbody",r).append('<tr><td class="dt-center" colspan="'+countcolumn+'" >No Data</td></tr>'),$(".panel-grid .dataTables_info",$(a.target)).html(""),$(".panel-grid .dataTables_paginate .pagination-panel",$(a.target)).html(""))},error:function(a,t,e){formatErrorMessage(a,t,e)},complete:function(){unblockUI(),clearconsole()}})}return $("thead tr th",u).each(function(a){if(!$(this).attr("class")&&"true"==$(this).attr("data-sort")&&"desc"==$(this).attr("type-sort"))return g=a,f=1,!1}),0==f&&$("thead tr th",u).each(function(a){if(!$(this).attr("class")&&"true"==$(this).attr("data-sort")&&"asc"==$(this).attr("type-sort"))return g=a,!1}),$("thead tr th",u).each(function(a){if(!$(this).attr("class")){var t="";"true"==$(this).attr("data-sort")&&(t="sorting",g==a&&(""!=$(this).attr("type-sort")?t+="_"+$(this).attr("type-sort"):t+="_asc")),$(this).attr("data-class")&&(t+=" "+$(this).attr("data-class")),$(this).attr("class",t)}}),$("thead tr th",u).each(function(a){"true"==$(this).attr("data-sort")&&l.push(a)}),$(".panel-grid .layout-table table thead tr",$(a.target)).off("click","th").on("click","th",function(){if(0<=l.indexOf($(this).index())){var t=$(".panel-grid .layout-table table",$(a.target)),e=$(this).attr("class");$("thead tr th",t).each(function(a){"true"==$(this).attr("data-sort")&&$(this).attr("class","sorting")}),"sorting_asc"==e?$(this).attr("class","sorting_desc"):$(this).attr("class","sorting_asc"),m(a)}}),$(".panel-grid .layout-table table thead tr th",$(a.target)).off("click","#for_cek_all").on("click","#for_cek_all",function(){$(".panel-grid .layout-table table tbody tr td .for_cek_all",$(a.target)).prop("checked",jQuery(this).prop("checked"))}),$(".panel-grid",$(a.target)).off("click","#delete-by-select").on("click","#delete-by-select",function(t){t.preventDefault();var e=new FormData;$(".panel-grid .layout-table table tbody tr td .for_cek_all",$(a.target)).each(function(){$(this).parent().parent().parent().is("tr")&&$(this).prop("checked")&&e.append("checklist[]",o[$(this).parent().parent().parent().index()])}),null==e.get("checklist[]")?messageBox("Silahkan pilih salah satu data terlebih dahulu","warning"):swal({title:"Yakin ingin menghapus data yang anda pilih?",text:"Anda tidak dapat memulihkan data yang telah dihapus!",icon:"error",buttons:{cancel:{text:"Batal",visible:!0,className:"btn btn-secondary",closeModal:!0},confirm:{text:"Hapus",visible:!0,className:"btn  btn-danger",closeModal:!0}},closeOnClickOutside:!0,dangerMode:!0}).then(function(t){t&&(blockUI(),$.ajax({url:a.url.deletebyselect,type:"POST",data:e,contentType:!1,dataType:"json",async:!0,xhr:function(){return customxhr($.ajaxSettings.xhr())},processData:!1,success:function(t){messageBox(t.message,t.status),m(a),$(".panel-grid .layout-table table thead tr th #for_cek_all",$(a.target)).prop("checked",!1)},error:function(a,t,e){formatErrorMessage(a,t,e)},complete:function(){unblockUI(),clearconsole()}}))})}),$(".panel-grid",$(a.target)).off("click","#deleteall").on("click","#deleteall",function(t){t.preventDefault();var e=new FormData;swal({title:"Yakin ingin menghapus semua data?",text:"Anda tidak dapat memulihkan data yang telah dihapus!",icon:"error",buttons:{cancel:{text:"Batal",visible:!0,className:"btn btn-secondary",closeModal:!0},confirm:{text:"Hapus",visible:!0,className:"btn  btn-danger",closeModal:!0}},closeOnClickOutside:!0,dangerMode:!0}).then(function(t){t&&(blockUI(),$.ajax({url:a.url.deleteall,type:"POST",data:e,contentType:!1,dataType:"json",async:!0,xhr:function(){return customxhr($.ajaxSettings.xhr())},processData:!1,success:function(t){messageBox(t.message,t.status),m(a)},error:function(a,t,e){formatErrorMessage(a,t,e)},complete:function(){unblockUI(),clearconsole()}}))})}),$(".panel-grid .dataTables_length",$(a.target)).off("change","select[name=rows]").on("change","select[name=rows]",function(){s=0,m(a)}),$(".panel-grid .dataTables_paginate",$(a.target)).off("click",".first").on("click",".first",function(){1<=s&&(s=0,m(a))}),$(".panel-grid .dataTables_paginate",$(a.target)).off("click",".last").on("click",".last",function(){s<i-1&&(s=i-1,m(a))}),$(".panel-grid .dataTables_paginate",$(a.target)).off("click",".prev").on("click",".prev",function(){1<=s&&(s-=1,m(a))}),$(".panel-grid .dataTables_paginate",$(a.target)).off("click",".next").on("click",".next",function(){s<i-1&&(s+=1,m(a))}),$(".panel-grid .dataTables_paginate",$(a.target)).off("keypress",".pagination-panel-input").on("keypress",".pagination-panel-input",function(t){13==t.which&&($(this).val()<=i&&1<=$(this).val()?(s=$(this).val()-1,m(a)):$(this).val(s+1))}),$(".panel-grid .searchform",$(a.target)).off("click","#btnfilter").on("click","#btnfilter",function(t){s=0,m(a)}),$(".panel-grid .searchform",$(a.target)).off("keypress","input[type=text]").on("keypress","input[type=text]",function(t){13==t.which&&(s=0,m(a))}),$(".panel-grid .searchform",$(a.target)).off("change",".input-range").on("change",".input-range",function(t){s=0,m(a)}),$(".panel-grid .searchform",$(a.target)).off("change","select").on("change","select",function(t){s=0,m(a)}),$(".panel-grid .searchform",$(a.target)).off("click","#btnreset").on("click","#btnreset",function(t){var e=$(".panel-grid .searchform",$(a.target));e[0].reset(),"function"==typeof $().selectpicker&&$(".select-picker",e).selectpicker("refresh"),m(a)}),$(".panel-grid table.dataTable tbody",$(a.target)).off("click",".confirm-delete").on("click",".confirm-delete",function(t){if($(this).parent().parent().is("tr")){var e=$(this).parent().parent();swal({title:"Yakin ingin menghapus?",text:"Anda tidak dapat memulihkan data ini!",icon:"error",buttons:{cancel:{text:"Batal",visible:!0,className:"btn btn-secondary",closeModal:!0},confirm:{text:"Hapus",visible:!0,className:"btn  btn-danger",closeModal:!0}},closeOnClickOutside:!0,dangerMode:!0}).then(function(t){if(t){blockUI();var r=new FormData;r.append("id",o[e.index()]),$.ajax({url:a.url.delete,type:"POST",data:r,async:!0,contentType:!1,dataType:"json",xhr:function(){return customxhr($.ajaxSettings.xhr())},processData:!1,success:function(a){"success"==a.status&&(o.splice(e.index(),1),e.remove()),unblockUI(),messageBox(a.message,a.status)},error:function(a,t,e){formatErrorMessage(a,t,e)},complete:function(){unblockUI(),clearconsole()}})}})}}),$(".panel-grid table.dataTable tbody",$(a.target)).off("click",".confirm-approve").on("click",".confirm-approve",function(t){if($(this).parent().parent().is("tr")){var e=$(this).parent().parent();swal({title:"Yakin ingin menyetujui?",text:"Data yang sudah disetujui tidak dapat diubah!",icon:"success",buttons:{cancel:{text:"Batal",visible:!0,className:"btn btn-secondary",closeModal:!0},confirm:{text:"Setujui",visible:!0,className:"btn  btn-success",closeModal:!0}},closeOnClickOutside:!0,dangerMode:!0}).then(function(t){if(t){blockUI();var r=new FormData;r.append("id",o[e.index()]),$.ajax({url:a.url.approve,type:"POST",data:r,async:!0,contentType:!1,dataType:"json",xhr:function(){return customxhr($.ajaxSettings.xhr())},processData:!1,success:function(t){"success"==t.status&&m(a),unblockUI(),messageBox(t.message,t.status)},error:function(a,t,e){formatErrorMessage(a,t,e)},complete:function(){unblockUI(),clearconsole()}})}})}}),$(".panel-grid",$(a.target)).off("click",".open-form").on("click",".open-form",function(t){blockUI();var r="";$(this).parent().parent().is("tr")&&(r=o[$(this).parent().parent().index()]);var n=new FormData,s=$(".panel-form",$(a.target));if(1==a.paramfromsearch){var i=$(".panel-grid .searchform",$(a.target));n=new FormData(i[0])}n.append("id",r),$.ajax({url:a.url.showform,type:"POST",data:n,async:!0,contentType:!1,dataType:"json",processData:!1,xhr:function(){return customxhr($.ajaxSettings.xhr())},success:function(t){"success"==t.status?($(".body-form",s).html(t.data.html),$(s).removeClass("display-none"),$(".panel-grid",$(a.target)).addClass("display-none"),$(".first-input-form",s).focus(),a.id=t.data.id,e(a)):messageBox(t.message,t.status)},error:function(a,t,e){formatErrorMessage(a,t,e)},complete:function(){unblockUI(),clearconsole()}})}),$(".panel-form",$(a.target)).off("click",".close-panel").on("click",".close-panel",function(t){var e=$(".panel-form",$(a.target));e.addClass("display-none"),$(".body-form",e).html(""),$(".panel-grid",$(a.target)).removeClass("display-none"),e.hasClass("panel-expand")&&($(t).removeClass("panel-expand"),$("body").attr("style","overflow:true"))}),$(".panel-grid",$(a.target)).off("click",".detail-data").on("click",".detail-data",function(t){blockUI();var e="";$(this).parent().parent().is("tr")&&(e=o[$(this).parent().parent().index()]);var r=new FormData,n=$(".panel-detail",$(a.target));r.append("id",e),$.ajax({url:a.url.showdetail,type:"POST",data:r,async:!0,contentType:!1,dataType:"json",processData:!1,xhr:function(){return customxhr($.ajaxSettings.xhr())},success:function(t){"success"==t.status?($(".body-form",n).html(t.data.html),$(n).removeClass("display-none"),$(".panel-grid",$(a.target)).addClass("display-none")):messageBox(t.message,t.status)},error:function(a,t,e){formatErrorMessage(a,t,e)},complete:function(){unblockUI(),clearconsole()}})}),$(".panel-grid",$(a.target)).off("click",".import-data").on("click",".import-data",function(e){var r=$(".modal-import-data",$(a.target));r.length&&(r.modal("show"),t(a))}),$(".panel-detail",$(a.target)).off("click",".close-panel").on("click",".close-panel",function(t){var e=$(".panel-detail",$(a.target));e.addClass("display-none"),$(".body-form",e).html(""),$(".panel-grid",$(a.target)).removeClass("display-none"),e.hasClass("panel-expand")&&($(t).removeClass("panel-expand"),$("body").attr("style","overflow:true"))}),$(".panel-grid",$(a.target)).off("click",".print-excel").on("click",".print-excel",function(t){var e=$(".panel-grid .searchform",$(a.target)),r=$(".panel-grid .layout-table table",$(a.target)),n="",s="";$("thead tr th",r).each(function(a){$(this).hasClass("sorting_asc")?(n="&order[0][column]="+a,s="&order[0][dir]=asc"):$(this).hasClass("sorting_desc")&&(n="&order[0][column]="+a,s="&order[0][dir]=desc")}),document.location=a.url.printexcel+"?"+e.serialize()+n+s}),$(".panel-grid",$(a.target)).off("click",".print-preview").on("click",".print-preview",function(t){blockUI(),(r=$(".panel-print-preview",$(a.target))).removeClass("display-none"),$(".panel-grid",$(a.target)).addClass("display-none");var e=$(".panel-print-preview",$(a.target)),r=$(".panel-grid .searchform",$(a.target)),n=$(".panel-grid .layout-table table",$(a.target)),s="",i="";$("thead tr th",n).each(function(a){$(this).hasClass("sorting_asc")?(s="&order[0][column]="+a,i="&order[0][dir]=asc"):$(this).hasClass("sorting_desc")&&(s="&order[0][column]="+a,i="&order[0][dir]=desc")}),$(".card-body",e).html('<iframe src="'+a.url.printpdf+"?"+r.serialize()+s+i+'" style="height:calc(100vh - 4.5rem);" frameborder=0 width="100%"></iframe>'),$(".card-body iframe",e).load(function(){unblockUI()})}),$(".panel-print-preview",$(a.target)).off("click",".printpdf").on("click",".printpdf",function(t){var e=$(".panel-grid .searchform",$(a.target)),r=$(".panel-grid .layout-table table",$(a.target)),n="",s="";$("thead tr th",r).each(function(a){$(this).hasClass("sorting_asc")?(n="&order[0][column]="+a,s="&order[0][dir]=asc"):$(this).hasClass("sorting_desc")&&(n="&order[0][column]="+a,s="&order[0][dir]=desc")}),window.open(a.url.printpdf+"?"+e.serialize()+n+s+"&forcedownload=1","_blank")}),$(".panel-print-preview",$(a.target)).off("click",".close-panel").on("click",".close-panel",function(t){var e=$(".panel-print-preview",$(a.target));e.hasClass("panel-expand")&&(e.removeClass("panel-expand"),$("body").attr("style","overflow:true")),e.addClass("display-none"),$(".card-body",e).html(""),$(".panel-grid",$(a.target)).removeClass("display-none"),e.hasClass("panel-expand")&&($(t).removeClass("panel-expand"),$("body").attr("style","overflow:true"))}),t(a),m(a)},t=function(t){$(t.target+" .modal-import-data").off("submit",".importform").on("submit",".importform",function(e){var r=$(this);if(e.preventDefault(),$(this).parsley().validate(),$(this).parsley().isValid()){blockUI();var n=new FormData(r[0]),s=$("button[type=submit]",r),i=s.html();togglesubmit(s,1,"Proses..."),$.ajax({url:t.url.importdata,type:"POST",data:n,async:!0,contentType:!1,dataType:"json",xhr:function(){return customxhr($.ajaxSettings.xhr())},processData:!1,success:function(e){messageBox(e.message,e.status),"success"==e.status&&(e.autohide&&$(".modal-import-data",$(t.target)).modal("hide"),r[0].reset(),r.parsley().reset(),"function"==typeof $().mask&&$(".number-picker",r).mask("#,##0",{reverse:!0}),"function"==typeof $().datepicker&&$(".input-daterange",r).datepicker("update"),"function"==typeof $().selectpicker&&$(".select-picker",r).selectpicker("refresh"),a(t,1))},error:function(a,t,e){formatErrorMessage(a,t,e)},complete:function(){unblockUI(),clearconsole(),togglesubmit(s,0,i)}})}})},e=function(t){var e,r=$(t.target+" .panel-form .forminput");function n(){if(r[0].reset(),r.parsley().reset(),"function"==typeof $().mask&&$(".number-picker",r).mask("#,##0",{reverse:!0}),$("input.datetime-picker",r).each(function(){var a=$(this).attr("data-format")||"YYYY-MM-DD HH:mm:ss",t=a.replace("YYYY","9999").replace("MM","99").replace("DD","99").replace("HH","99").replace("mm","99").replace("ss","99");$(this).datetimepicker({format:a}).mask(t)}),"function"==typeof $().datepicker&&($("input.date-picker",r).each(function(){var a=$(this).attr("data-format")||"yyyy-mm-dd",t=$(this).attr("data-mode")||"date",e=a.replace("yyyy","9999").replace("mm","99").replace("dd","99");$(this).datepicker({format:a,autoclose:"true",startView:t,minViewMode:t}).mask(e)}),$(".input-daterange",r).each(function(){var a=$(this).attr("data-format")||"yyyy-mm-dd",t=$(this).attr("data-mode")||"date",e=a.replace("yyyy","9999").replace("mm","99").replace("dd","99");$(this).datepicker({format:a,autoclose:"true",startView:t,minViewMode:t}),$(".input-range",$(this)).mask(e)})),"function"==typeof $().selectpicker&&$(".select-picker",r).selectpicker("refresh"),$(".tagsit",r).length){var a=$(".tagsit",r).val().split(",");$(".tagsit",r).tagit("removeAll"),a.forEach(function(a){$(".tagsit",r).tagit("createTag",a)}),$(".tagsit",r).tagit("createTag",a)}$("textarea.summernote",r).each(function(){$(this).summernote("code",$(this).val())}),$(".first-input-form",r).focus()}return r.on("submit",function(e){if(e.preventDefault(),$(this).parsley().validate(),$(this).parsley().isValid()){blockUI();var s=new FormData(r[0]);s.append("id",t.id);var i=$("button[type=submit]",r),l=i.html();togglesubmit(i,1,"Proses..."),$.ajax({url:""!=t.id?t.url.update:t.url.create,type:"POST",data:s,async:!0,contentType:!1,dataType:"json",processData:!1,xhr:function(){return customxhr($.ajaxSettings.xhr())},success:function(e){messageBox(e.message,e.status),"success"==e.status&&("createdata"==e.state&&n(),e.autohide&&($(".panel-form",$(t.target)).addClass("display-none"),$(".panel-grid",$(t.target)).removeClass("display-none"),$(".panel-form .body-form",$(t.target)).html("")),a(t,1,e.cp))},error:function(a,t,e){formatErrorMessage(a,t,e)},complete:function(){unblockUI(),clearconsole(),togglesubmit(i,0,l)}})}}),$(r).off("click","#btnreset").on("click","#btnreset",function(){n()}),e=r,"function"==typeof $().selectpicker&&$("select.select-picker",e).selectpicker("render").on("change",function(){$(this).parsley().validate()}),"function"==typeof $().mask&&$(".number-picker",e).mask("#,##0",{reverse:!0}),$("input.datetime-picker",e).each(function(){var a=$(this).attr("data-format")||"YYYY-MM-DD HH:mm:ss",t=a.replace("YYYY","9999").replace("MM","99").replace("DD","99").replace("HH","99").replace("mm","99").replace("ss","99");$(this).datetimepicker({format:a}).mask(t)}),"function"==typeof $().datepicker&&($("input.date-picker",e).each(function(){var a=$(this).attr("data-format")||"yyyy-mm-dd",t=$(this).attr("data-mode")||"date",e=a.replace("yyyy","9999").replace("mm","99").replace("dd","99");$(this).datepicker({format:a,autoclose:"true",startView:t,minViewMode:t}).mask(e)}),$(".input-daterange",e).each(function(){var a=$(this).attr("data-format")||"yyyy-mm-dd",t=$(this).attr("data-mode")||"date",e=a.replace("yyyy","9999").replace("mm","99").replace("dd","99");$(this).datepicker({format:a,startView:t,minViewMode:t,autoclose:"true"}),$(".input-range",$(this)).mask(e)})),void $("textarea.summernote",e).each(function(){$(this).summernote({placeholder:$(this).attr("placeholder"),height:$(this).attr("data-height"),toolbar:[["style",["style"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["style",["bold","italic","clear","underline","strikethrough","superscript","subscript"]],["table",["table"]],["insert",["link","elfinder","video"]],["view",["codeview"]],["help",["fullscreen","help"]]]})})};return{init:function(t){a(t)},initsettingmodule:function(a){var t,e;t=a,e=[],$(".searchform",$(t.target)).off("change","#group_id").on("change","#group_id",function(){!function(a){blockUI();var t=$(".panel-grid .searchform",$(a.target)),r=new FormData;t.length&&(r=new FormData(t[0]));var n=$(".panel-grid table",$(a.target));e=[],$.ajax({type:"POST",url:a.url.grid,data:r,contentType:!1,async:!0,processData:!1,xhr:function(){return customxhr($.ajaxSettings.xhr())},dataType:"json",success:function(a){$("tbody",n).html(""),0<a.data.recordsTotal?a.data.grid.forEach(function(a,t,r){e.push(a.id);var s="<tr>"+a.acls+"</tr>";$("tbody",n).append(s)}):$("tbody",n).append('<tr><td align="center" colspan="7" >No Data</td></tr>')},error:function(a,t,e){formatErrorMessage(a,t,e)},complete:function(){clearconsole(),unblockUI()}})}(t)}),$(".panel-grid table tbody",$(t.target)).off("click",".module_acl").on("click",".module_acl",function(){blockUI();var a=$(this).parent().parent().parent(),r=$(".panel-grid .searchform",$(t.target)),n=new FormData;r.length&&(n=new FormData(r[0])),n.append("acl",$(this).attr("name")),n.append("status",$(this).prop("checked")),n.append("id",e[a.index()]),$.ajax({type:"POST",url:t.url.update,data:n,async:!0,contentType:!1,processData:!1,xhr:function(){return customxhr($.ajaxSettings.xhr())},dataType:"json",success:function(a){messageBox(a.message,a.status)},error:function(a,t,e){formatErrorMessage(a,t,e)},complete:function(){clearconsole(),unblockUI()}})}),$(".select-picker",$(t.target)).selectpicker("render")}}}();