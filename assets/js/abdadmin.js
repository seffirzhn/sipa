var blockUI=function(e){$.blockUI()},unblockUI=function(e){$.unblockUI(),clearconsole()};function togglesubmit(e,t,a){""!=a&&e.html(a),"1"==t?(e.attr("type","button"),e.attr("disabled","")):(e.attr("type","submit"),e.removeAttr("disabled"))}function clearconsole(){(window.console||window.console.firebug)&&"production"==environment&&(console.clear(),console.log("Cie cie yang mau ngintip :P . Developed By Abdulionel"))}function formatErrorMessage(e,t,a){0===e.status?a="Not connected.<br/>Please verify your network connection.":404==e.status?a+=" [404]":500==e.status?a+=" [500]":a="parsererror"===t?"Requested JSON parse failed.":"timeout"===t?"Time out error.":"abort"===t?"Ajax request aborted.":"Uncaught Error.<br/>"+e.responseText,messageBox(a,"error")}function formatErrorMessagefront(e,t,a){return 0===e.status?a="Not connected. Please verify your network connection.":404==e.status?a+=" [404]":500==e.status?a+=" [500]":a="parsererror"===t?"Requested JSON parse failed.":"timeout"===t?"Time out error.":"abort"===t?"Ajax request aborted.":"Uncaught Error. "+e.responseText,"<div class='alert alert-danger'>"+a+"<div>"}function elfinderDialog(e){if(""==$("#modalelfinder").length){var t={url:elfinder_url,uiOptions:{toolbar:[["back","forward"],["home"],["mkdir","upload"],["info"],["quicklook"],["copy","cut","paste"],["rm"],["duplicate","rename","edit"],["search"],["view"],["help"]]},contextmenu:{files:["getfile","|","open","|","copy","cut","paste","duplicate","|","rm","|","edit","rename","|","archive","extract","|","info"]},cssAutoLoad:["./assets/plugins/elfinder/css/theme.css"],destroyOnClose:!0,resizable:!1,width:"70%",height:"75%",zIndex:99999,commandsOptions:{getfile:{oncomplete:"destroy"}},handlers:{destroy:function(){$(".backdrop-elfinder").remove()}},getFileCallback:function(t,a){e.invoke("editor.insertImage",t.url),$(".dialogelfinder").remove(),$(".backdrop-elfinder").remove()}};$("<div/>").dialogelfinder(t).dialogelfinder("instance"),$('<div class="modal-backdrop fade backdrop-elfinder show"></div>').appendTo("body")}}function sessionintv(){var e;(e=new FormData).append("fromajax","yes"),$.ajax({type:"POST",url:session_url,data:e,async:!0,contentType:!1,processData:!1,dataType:"json",success:function(e){"warning"==e.status&&(messageBox(e.message,e.status),setTimeout(function(){window.location=e.data.linkredirect},3e3)),$(".countonline").html(e.data.online_user)},complete:function(){clearconsole()}}),(e=new FormData).append("fromajax","yes"),$.ajax({type:"POST",url:notif_url,data:e,contentType:!1,processData:!1,dataType:"json",success:function(e){e.data.countnew>0&&$(".countnewnotification").html('<span class="badge badge-danger badge-pill ">'+e.data.countnew+"</span>"),$(".countallnotification").html(e.data.countall),$(".list-notification").html(e.data.notif)},complete:function(){clearconsole()}})}messageBox=function(e,t,a){icon="ti-check",iconclass="success","info"==t?(icon="ti-info",iconclass="info"):"error"==t?(icon="ti-close",iconclass="danger"):"warning"==t&&(icon="ti-na",iconclass="warning"),$.notify({icon:icon,title:"<strong>"+t.toUpperCase()+"</strong><br/>",message:e},{type:iconclass,icon_type:"class",allow_dismiss:!0,mouse_over:"pause",placement:{from:"bottom",align:"left"},offset:{x:20,y:20},spacing:10,z_index:1031,delay:5e3})},$(document).off("click",".linkajax").on("click",".linkajax",function(e){e.preventDefault(),blockUI();var t=$(this),a=new FormData;a.append("fromajax","yes"),a.append("namelink",t.attr("name")),$.ajax({type:"post",url:t.attr("link"),data:a,async:!0,contentType:!1,processData:!1,xhr:function(){return customxhr($.ajaxSettings.xhr())},dataType:"json",success:function(e){$(".linkajax").removeClass("mm-active").removeClass("active"),$("#sidebar-menu ul li,.topnav ul li").removeClass("mm-active").removeClass("active"),$("#sidebar-menu ul li a,.topnav ul li a").removeClass("mm-active").removeClass("active"),t.addClass("mm-active").addClass("active"),t.parents("li").addClass("mm-active").addClass("active"),t.parents("li.has-sub").children("a").addClass("mm-active").addClass("active"),$(".content").html(e.data.html),$("#page-container").removeClass("page-sidebar-toggled"),$(".navbar-toggle").removeClass("active"),history.pushState(null,"",t.attr("link"))},error:function(e,t,a){$(".content").html(t.responseText),formatErrorMessage(e,t,a)},complete:function(){unblockUI(),clearconsole(),$("body").removeClass("sidebar-enable"),$("#topnav-menu-content").removeClass("show")}})}),$(document).ready(function(){sessionintv(),setInterval(function(){sessionintv()},18e4)}),$(document).off("click",".linklogout").on("click",".linklogout",function(e){e.preventDefault();var t=$(this).attr("link");swal({title:"Keluar?",text:"Apakah yakin ingin keluar dari akun anda",icon:"info",buttons:{cancel:{text:"Batal",visible:!0,className:"btn btn-secondary",closeModal:!0},confirm:{text:"Keluar",visible:!0,className:"btn  btn-info",closeModal:!0}},closeOnClickOutside:!0,dangerMode:!0}).then(function(e){e&&(document.location=t)})}),$(document).off("click",".btn-preview").on("click",".btn-preview",function(e){e.preventDefault(),$('<div class="card card-inverse display-none card-preview" id="card-preview"><div class="card-heading" style="flex:none"><div class="card-heading-btn"><button class="btn btn-xs btn-remove-card-preview btn-icon btn-circle btn-danger"><i class="ti-close"></i></button> </div><h4 class="card-title">Pratinjau Berkas</h4></div><div class="card-body "><div class="row"><div class="col-md-8 offset-md-2"><div class="panel-main-container m-t-10"></div></div></div></div></div>').appendTo("body"),$(".card-preview").removeClass("display-none"),$(".card-preview").addClass("card-expand"),$("body").attr("style","overflow:hidden"),""!=$(this).attr("data-name")&&$(".card-preview .card-title").html("Pratinjau Berkas - "+$(this).attr("data-name"));var t=$(this).attr("data-link");"application/pdf"==$(this).attr("data-ext")?$(".panel-main-container").html('<div style="height:100%;text-align:center;"><iframe src="'+t+'" frameborder="0" width="100%" style="height:calc(100vh - 6rem);max-width:100%"></iframe></div>'):"image/jpeg"==$(this).attr("data-ext")||"image/png"==$(this).attr("data-ext")||"image/jpg"==$(this).attr("data-ext")||"image/bmp"==$(this).attr("data-ext")?$(".panel-main-container").html('<div style="height:100%;text-align:center;"><img src="'+t+'" width="auto" style="height:auto;max-height:calc(100vh - 6rem);max-width:100%"></div>'):"audio/mpeg"==$(this).attr("data-ext")||"audio/wav"==$(this).attr("data-ext")||"audio/mp3"==$(this).attr("data-ext")||"audio/mpeg"==$(this).attr("data-ext")?$(".panel-main-container").html('<div style="height:100%;text-align:center;"><audio controls preload="metadata" style=" width:100%"><source src="'+t+'" type="audio/mp3"></audio></div>'):"video/mp4"==$(this).attr("data-ext")||"application/x-shockwave-flash"==$(this).attr("data-ext")?$(".panel-main-container").html('<div style="height:100%;text-align:center;"><embed src="'+t+'" width="100%" height="100%"></div>'):"iframe"==$(this).attr("data-ext")?$(".panel-main-container").html('<div style="height:100%;text-align:center;">'+t+"</div>"):$(".panel-main-container").html('<div style="height:100%;text-align:center;vertical-align:middle" class="text-center"><i>Tipe berkas tidak didukung untuk ditinjau</i></div>'),$(".card-preview").off("click",".btn-remove-card-preview").on("click",".btn-remove-card-preview",function(e){e.preventDefault(),$(".card-preview").remove(),$("body").attr("style","position: relative; min-height: 100%; top: 0px;")})});var Browsefile={init:function(e){var t=$(e.target).closest("form"),a=$(e.target).parent().parent(),n=$(e.target).parent().parent().parent();$('<i class="m-b-5 infouploadfile">'+e.text+"</i>").appendTo(n),$(e.target).on("change",function(){if($(".filename",a).remove(),$(".cancelfile",a).remove(),$(".infouploadfile",n).html(e.text),$(e.target).attr("multiple")){if((i=$(e.target).get(0).files).length>0){for(var t=0;t<i.length;t++)$('<a href="javascript:;" class="filename m-r-10" indx='+t+">"+i[t].name+"</a>").appendTo(a);$('<a href="javascript:;" class="cancelfile text-danger"><strong class="f-s-13">×</strong></a>').appendTo(a)}i.length>0?$(".infouploadfile",n).html(e.text+", Klik nama berkas untuk pratinjau"):($(".filename",a).remove(),$(".cancelfile",a).remove(),$(".infouploadfile",n).html(e.text))}else{var i;null!=(i=$(e.target).get(0).files[0])&&$('<a href="javascript:;" class="filename text-info">'+i.name+'</a> <a href="javascript:;" class="cancelfile text-danger" ><strong class="f-s-13">×</strong></a>').appendTo(a),null!=i&&$(".infouploadfile",n).html(e.text+", Klik nama berkas untuk pratinjau")}$(".filename",a).on("click",function(t){t.preventDefault();var a=0;$(e.target).attr("multiple")&&(a=$(this).attr("indx"));var n=$(e.target).get(0).files[a];if($('<div class="card card-inverse display-none card-preview" id="card-preview"><div class="card-heading" style="flex:none"><div class="card-heading-btn"><button class="btn btn-xs btn-remove-card-preview btn-icon btn-circle btn-danger"><i class="ti-close"></i></button> </div><h4 class="card-title">Pratinjau Berkas</h4></div><div class="card-body "><div class="row"><div class="col-md-8 offset-md-2"><div class="panel-main-container m-t-10"></div></div></div></div></div>').appendTo("body"),"application/pdf"==n.type)$(".panel-main-container").html('<div style="height:100%;text-align:center;"><iframe src="'+URL.createObjectURL($(e.target).get(0).files[a])+'" frameborder="0" width="100%" style="height:calc(100vh - 6rem);max-width:100%"></iframe></div>');else if("image/png"==n.type||"image/jpeg"==n.type||"image/jpg"==n.type||"image/bmp"==n.type)n&&((i=new FileReader).onload=function(e){$(".panel-main-container").html('<div style="height:100%;text-align:center;"><img src="'+e.target.result+'" width="auto" style="height:auto;max-height:calc(100vh - 6rem);max-width:100%"></div>')},i.readAsDataURL(n));else if("video/mp4"==n.type||"application/x-shockwave-flash"==n.type)n&&((i=new FileReader).onload=function(e){$(".panel-main-container").html('<div style="height:100%;text-align:center;"><embed src="'+e.target.result+'" width="100%" height="100%"></div>')},i.readAsDataURL(n));else if("audio/mpeg"==n.type||"audio/wav"==n.type||"audio/mp3"==n.type){var i;n&&((i=new FileReader).onload=function(e){$(".panel-main-container").html('<div style="height:100%;text-align:center;"><audio controls preload="metadata" style=" width:100%"><source src="'+e.target.result+'" type="audio/mp3"></audio></div>')},i.readAsDataURL(n))}else $(".panel-main-container").html('<div style="height:100%;text-align:center;vertical-align:middle" class="text-center"><i>Tipe berkas tidak didukung untuk ditinjau</i></div>');$(".card-preview").removeClass("display-none"),$(".card-preview").addClass("card-expand"),$("body").attr("style","overflow:hidden"),$(".card-preview").off("click",".btn-remove-card-preview").on("click",".btn-remove-card-preview",function(e){e.preventDefault(),$(".card-preview").remove(),$("body").attr("style","position: relative; min-height: 100%; top: 0px;")})}),$(".cancelfile",a).on("click",function(t){t.preventDefault(),$(".btn-file",a).removeClass("parsley-success"),$(".filename",a).remove(),$(this).remove(),$(e.target).val("").clone(!0),$(".infouploadfile",n).html(e.text)})}),t.on("reset",function(){$(".filename",t).remove(),$(".cancelfile",t).remove(),$(".infouploadfile",n).html(e.text)})}};function googleTranslateElementInit(){new google.translate.TranslateElement({pageLanguage:"id",includedLanguages:"ar,en,id,ja,jv,ms,fr,zh-CN,de,ko,it,jw",layout:google.translate.TranslateElement.InlineLayout.SIMPLE},"google_translate_element")}$(document).on("click","[data-click=card-expand]",function(e){var t=$(this).closest(".card");$(t).find(".card"),t.hasClass("card-expand")?($(t).removeClass("card-expand"),$("body").attr("style","position: relative; min-height: 100%; top: 0px;")):($(t).addClass("card-expand"),$("body").attr("style","overflow:hidden"))});var customxhr=function(e){return e.onprogress=function e(){e.lengthComputable&&$(".loading-message-boxed .percentage").html(Math.round(e.loaded/e.total*100)+"%")},e.upload.onprogress=function(e){e.lengthComputable&&$(".loading-message-boxed .percentage").html(Math.round(e.loaded/e.total*100)+"%")},e};