function counttext(e){e>=1?($(".text-count").html(e),setTimeout(function(){counttext(e-1)},1e3)):toggletext(2)}function toggletext(e){1==e?($(".text-recovery").html("Mohon menunggu <span class='text-count'>0</span> detik untuk mengirim ulang<br/>atau <a href='javascript:;' class='switch-method text-primary'>gunakan metode verifikasi lain</a>"),$(".switch-method").click(function(){document.location=url_switch}),counttext(60)):2==e&&($(".text-recovery").html("Tidak menerima kode?<br/><a href='javascript:;' class='text-primary r-send'>Kirim ulang</a> atau <a href='javascript:;' class='text-primary switch-method'>gunakan metode verifikasi lain</a>"),$(".r-send").click(function(){sendverifyphone(1)}))}function sendverifyphone(e){var t=new FormData;1==e&&$(".recovery-info").html('<div class="alert alert-info">Proses mengirim ulang...</div>'),t.append("param",e),toggletext(1),$.ajax({url:url_send,type:"POST",data:t,contentType:!1,dataType:"json",processData:!1,success:function(t){1==e&&$(".recovery-info").html(t.message)},error:function(t,n,a){1==e&&$(".recovery-info").html(formatErrorMessagefront(t,n,a))},complete:function(){clearconsole()}})}$(".phone-verify-form").on("submit",function(e){e.preventDefault();var t=$(this);if(t.parsley().validate(),t.parsley().isValid()){var n=new FormData(t[0]);$(".recovery-info").html('<div class="alert alert-info">Mengautentikasi...</div>'),$.ajax({url:t.attr("action"),type:"POST",data:n,contentType:!1,dataType:"json",processData:!1,success:function(e){$(".recovery-info").html(e.message),"success"==e.status&&setTimeout(function(){window.location=e.data.linkredirect},1e3)},error:function(e,t,n){$(".recovery-info").html(formatErrorMessagefront(e,t,n))},complete:function(){clearconsole()}})}}),$(document).ready(function(){sendverifyphone(0)});